diff -ur Makefile.in.bak Makefile.in
--- Makefile.in.bak	2021-05-13 20:54:56.000000000 +0200
+++ Makefile.in	2022-05-01 13:15:23.859375000 +0200
@@ -121,7 +121,7 @@
 	"$(DESTDIR)$(man3dir)" "$(DESTDIR)$(cmakedir)" \
 	"$(DESTDIR)$(confexecdir)" "$(DESTDIR)$(m4datadir)" \
 	"$(DESTDIR)$(pkgconfigdir)"
-PROGRAMS = $(bin_PROGRAMS)
+PROGRAMS =
 am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
 am__vpath_adj = case $$p in \
     $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
@@ -724,7 +724,7 @@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 ACLOCAL_AMFLAGS = -I m4
-SUBDIRS = include . doc example fuzz xstc $(PYTHON_SUBDIR)
+SUBDIRS = include .
 DIST_SUBDIRS = include . doc example fuzz python xstc
 AM_CPPFLAGS = -I$(top_builddir)/include -I$(srcdir)/include
 AM_CFLAGS = $(EXTRA_CFLAGS) $(THREAD_CFLAGS) $(Z_CFLAGS) $(LZMA_CFLAGS)
@@ -1911,15 +1911,13 @@
 
 info-am:
 
-install-data-am: install-cmakeDATA install-data-local \
-	install-m4dataDATA install-man install-pkgconfigDATA
+install-data-am: install-cmakeDATA install-pkgconfigDATA
 
 install-dvi: install-dvi-recursive
 
 install-dvi-am:
 
-install-exec-am: install-binPROGRAMS install-binSCRIPTS \
-	install-confexecDATA install-libLTLIBRARIES
+install-exec-am: install-libLTLIBRARIES
 
 install-html: install-html-recursive
 
@@ -2055,7 +2053,6 @@
 	install-data-am install-data-local install-dvi install-dvi-am \
 	install-exec install-exec-am install-html install-html-am \
 	install-info install-info-am install-libLTLIBRARIES \
-	install-m4dataDATA install-man install-man1 install-man3 \
 	install-pdf install-pdf-am install-pkgconfigDATA install-ps \
 	install-ps-am install-strip installcheck installcheck-am \
 	installdirs installdirs-am maintainer-clean \
diff -ur parser.c.bak parser.c
--- parser.c.bak	2021-05-13 14:54:16.000000000 +0200
+++ parser.c	2022-05-01 13:21:32.781250000 +0200
@@ -12565,6 +12565,10 @@
         ctxt->input->length = 0;
 	ctxt->input->base = ctxt->input->cur;
         ctxt->input->end = ctxt->input->cur;
+    if (ctxt->input->buf)
+        xmlBufEmpty (ctxt->input->buf->buffer);
+    else
+        ctxt->input->length = 0;
     }
 }
 
diff -ur include/libxml/xmlexports.h.bak include/libxml/xmlexports.h
--- include/libxml/xmlexports.h.bak	2021-05-13 14:53:51.000000000 +0200
+++ include/libxml/xmlexports.h	2022-05-01 13:31:37.218750000 +0200
@@ -8,7 +8,7 @@
 #ifndef __XML_EXPORTS_H__
 #define __XML_EXPORTS_H__
 
-#if defined(_WIN32) || defined(__CYGWIN__)
+#if 0
 /** DOC_DISABLE */
 
 #ifdef LIBXML_STATIC
